dashboard
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ستاديكس | بوابة الأبطال</title>
  <meta name="description" content="أقوى منصة تداول واستثمار في العالم العربي">

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght@800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>

  <style>
    :root {
      --p: #00ffe1;
      --s: #7c3aed;
      --g: linear-gradient(135deg, #00d4c8, #8b5cf6, #ec4899);
      --dark: #0a0b14;
      --glass: rgba(15, 18, 36, 0.55);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { 
      height: 100%; 
      overflow-x: hidden;
      overflow-y: auto; /* ← ده اللي كان ناقص! */
      font-family: 'Cairo', sans-serif; 
      background: var(--dark); 
      color: #fff; 
    }

    /* باقي الكود زي ما هو لحد الـ container */

    .container {
      position: relative;
      z-index: 10;
      max-width: 520px;
      width: 92%;
      margin: 5vh auto;
      min-height: 90vh; /* ← جديد */
      padding: 60px 40px 80px; /* زيادة padding من تحت */
      background: var(--glass);
      border-radius: 44px;
      backdrop-filter: blur(32px);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 0 100px rgba(0,212,200,0.25), 0 20px 60px rgba(0,0,0,0.6);
    }

    /* باقي الكود زي ما هو لحد الآخر */
    /* ... (كل الـ CSS اللي فوق موجود تحت بالظبط) ... */غ

    /* خلفية تفاعلية مذهلة */
    .bg {
      position: fixed;
      inset: 0;
      background: 
        radial-gradient(circle at 20% 80%, rgba(139,92,246,0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(0,255,225,0.3) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(236,72,153,0.15) 0%, transparent 60%),
        #0a0b14;
      animation: bgFlow 25s infinite linear;
    }

    @keyframes bgFlow {
      0%   { background-position: 0% 50%, 50% 50%, 50% 50%, center; }
      100% { background-position: 100% 50%, -50% 50%, 150% 50%, center; }
    }

    /* كرات متوهجة + جزيئات متطايرة */
    .particles {
      position: fixed;
      inset: 0;
      pointer-events: none;
    }

    .orb {
      position: fixed;
      border-radius: 50%;
      filter: blur(120px);
      opacity: 0.4;
      pointer-events: none;
      mix-blend-mode: screen;
    }
    .orb1 { width: 800px; height: 800px; background: #8b5cf6; top: -300px; left: -300px; animation: floatOrb1 40s infinite ease-in-out; }
    .orb2 { width: 700px; height: 700px; background: #00ffe1; bottom: -250px; right: -250px; animation: floatOrb2 45s infinite ease-in-out; }
    .orb3 { width: 600px; height: 600px; background: #ec4899; top: 40%; left: 50%; transform: translate(-50%, -50%); animation: pulseOrb 20s infinite; }

    @keyframes floatOrb1 { 0%,100% { transform: translate(0,0) rotate(0deg); } 50% { transform: translate(150px, -150px) rotate(180deg); } }
    @keyframes floatOrb2 { 0%,100% { transform: translate(0,0) rotate(0deg); } 50% { transform: translate(-120px, 120px) rotate(-180deg); } }
    @keyframes pulseOrb { 0%,100% { opacity: 0.3; transform: translate(-50%,-50%) scale(1); } 50% { opacity: 0.5; transform: translate(-50%,-50%) scale(1.3); } }

    /* الكونتينر الرئيسي الفخم */
    .container {
      position: relative;
      z-index: 10;
      max-width: 520px;
      width: 92%;
      margin: 5vh auto;
      background: var(--glass);
      padding: 70px 55px;
      border-radius: 44px;
      backdrop-filter: blur(32px);
      border: 1px solid var(--border);
      box-shadow: 
        0 0 100px rgba(0, 212, 200, 0.25),
        0 20px 60px rgba(0,0,0,0.6),
        inset 0 1px 0 rgba(255,255,255,0.1);
      animation: levitate 10s infinite ease-in-out;
    }

    @keyframes levitate {
      0%,100% { transform: translateY(0) rotateX(0deg); }
      50% { transform: translateY(-25px) rotateX(2deg); }
    }

    .top-glow {
      position: absolute;
      top: -2px; left: 0; right: 0;
      height: 6px;
      background: var(--g);
      border-radius: 44px 44px 0 0;
      box-shadow: 0 0 40px var(--p);
      animation: topGlow 5s infinite;
    }

    @keyframes topGlow {
      0%,100% { opacity: 0.8; transform: scaleX(1); }
      50% { opacity: 1; transform: scaleX(1.15); }
    }

    .logo {
      text-align: center;
      margin-bottom: 60px;
    }

    .logo img {
      height: 200px;
      filter: drop-shadow(0 0 60px rgba(0,255,225,0.7));
      animation: logoFloat 8s infinite ease-in-out;
    }

    @keyframes logoFloat {
      0%,100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-20px) scale(1.08); }
    }

    .logo h1 {
      font-family: 'Tajawal', sans-serif;
      font-size: 4.8rem;
      font-weight: 900;
      background: var(--g);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientFlow 10s ease infinite, textGlow 3s infinite alternate;
      letter-spacing: 3px;
    }

    @keyframes gradientFlow {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes textGlow {
      from { text-shadow: 0 0 30px rgba(0,255,225,0.6); }
      to { text-shadow: 0 0 80px rgba(139,92,246,0.9); }
    }

    .forms { position: relative; min-height: 680px; }

    .form {
      position: absolute;
      width: 100%;
      opacity: 0;
      transform: translateY(50px) scale(0.95);
      transition: all 1s cubic-bezier(0.6, -0.05, 0.2, 1.2);
      pointer-events: none;
    }

    .form.active {
      opacity: 1;
      transform: translateY(0) scale(1);
      pointer-events: auto;
    }

    h2 {
      text-align: center;
      font-size: 2.8rem;
      margin-bottom: 20px;
      color: #e0d4ff;
      text-shadow: 0 0 30px rgba(139,92,246,0.5);
    }

    .subtitle {
      text-align: center;
      color: #94a3b8;
      font-size: 1.3rem;
      margin-bottom: 50px;
      line-height: 1.8;
    }

    .input-group {
      position: relative;
      margin-bottom: 36px;
    }

    .input-group i {
      position: absolute;
      left: 28px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.8rem;
      color: var(--p);
      transition: all 0.5s;
      z-index: 2;
    }

    .input-group input {
      width: 100%;
      padding: 24px 28px 24px 80px;
      background: rgba(255,255,255,0.06);
      border: 2px solid rgba(255,255,255,0.12);
      border-radius: 70px;
      color: #fff;
      font-size: 1.4rem;
      outline: none;
      transition: all 0.7s ease;
      backdrop-filter: blur(12px);
    }

    .input-group input:focus {
      border-color: var(--p);
      background: rgba(255,255,255,0.14);
      box-shadow: 
        0 0 60px rgba(0,255,225,0.5),
        inset 0 0 20px rgba(0,0,0,0.3);
      transform: scale(1.05);
    }

    .input-group input:focus + i {
      color: #fff;
      transform: translateY(-50%) scale(1.3);
      filter: drop-shadow(0 0 20px var(--p));
    }

    .btn {
      width: 100%;
      padding: 26px;
      background: var(--g);
      background-size: 300% 300%;
      color: white;
      border: none;
      border-radius: 70px;
      font-size: 2rem;
      font-weight: 900;
      letter-spacing: 2px;
      cursor: pointer;
      transition: all 0.6s ease;
      box-shadow: 0 20px 60px rgba(139,92,246,0.5);
      position: relative;
      overflow: hidden;
      margin-top: 30px;
      animation: btnGradient 8s ease infinite;
    }

    @keyframes btnGradient {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .btn:hover {
      transform: translateY(-12px) scale(1.05);
      box-shadow: 0 40px 100px rgba(139,92,246,0.8);
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: all 0.8s;
    }

    .btn:active::before {
      width: 600px;
      height: 600px;
    }

    .switch {
      text-align: center;
      margin-top: 40px;
      font-size: 1.35rem;
      color: #94a3b8;
    }

    .switch a {
      color: var(--p);
      font-weight: 700;
      text-decoration: none;
      position: relative;
      transition: all 0.4s;
    }

    .switch a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 3px;
      bottom: -4px;
      left: 50%;
      background: var(--p);
      transition: all 0.4s;
      border-radius: 2px;
    }

    .switch a:hover::after {
      width: 100%;
      left: 0;
    }

    .switch a:hover {
      text-shadow: 0 0 30px var(--p);
    }

    .alert {
      padding: 20px 25px;
      margin: 25px 0;
      border-radius: 20px;
      text-align: center;
      font-weight: 700;
      font-size: 1.3rem;
      opacity: 0;
      transform: translateY(-30px);
      transition: all 0.6s ease;
    }

    .alert.show {
      opacity: 1;
      transform: translateY(0);
    }

    .alert.success { background: rgba(0,255,225,0.2); border: 1px solid var(--p); color: var(--p); box-shadow: 0 0 30px rgba(0,255,225,0.3); }
    .alert.error   { background: rgba(239,68,68,0.2); border: 1px solid #ef4444; color: #ff6b6b; }

    /* أداء فائق */
    * { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; transform: translateZ(0); backface-visibility: hidden; }
  </style>
</head>
<body>

  <div class="bg"></div>
  <div class="particles">
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
    <div class="orb orb3"></div>
  </div>

  <div class="container">
    <div class="top-glow"></div>

    <div class="logo">
      <img src="موال.png" alt="ستاديكس" onerror="this.src='https://via.placeholder.com/140/00ffe1/ffffff?text=ستاديكس'">
      <h1>ستاديكس</h1>
    </div>

    <div class="forms">

      <!-- تسجيل الدخول -->
      <div class="form active" id="login">
        <h2>أهلًا بعودتك يا أسطورة</h2>
        <p class="subtitle">ادخل حسابك وخلينا نبدأ الرحلة معًا</p>
        <div class="alert" id="l-alert"></div>

        <form onsubmit="event.preventDefault(); showAlert('l-alert', 'تم تسجيل الدخول بنجاح! جاري التحويل...', 'success'); setTimeout(()=>location.href='index.html', 1800);">
          <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input type="email" placeholder="البريد الإلكتروني" required autocomplete="email">
          </div>
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" placeholder="كلمة المرور" required autocomplete="current-password">
          </div>

          <div style="display:flex; justify-content:space-between; align-items:center; margin:20px 0; font-size:1.1rem;">
            <label style="cursor:pointer;"><input type="checkbox" style="margin-left:8px;"> تذكرني</label>
            <a onclick="switchForm('forgot')" style="color:#94a3b8; cursor:pointer; transition:all .3s;" onmouseover="this.style.color='var(--p)'" onmouseout="this.style.color='#94a3b8'">نسيت كلمة المرور؟</a>
          </div>
          <button type="submit" class="btn">تسجيل الدخول الآن</button>
        </form>

        <div class="switch">
          مستخدم جديد؟ <a onclick="switchForm('register')">سجل دلوقتي</a>
        </div>
      </div>

      <!-- إنشاء حساب -->
      <div class="form" id="register">
        <h2>انضم لعائلة الأبطال</h2>
        <p class="subtitle">سجل في أقل من دقيقة</p>
        <div class="alert" id="r-alert"></div>

        <form onsubmit="event.preventDefault(); showAlert('r-alert', 'تم إنشاء الحساب بنجاح! جاري توجيهك...', 'success'); setTimeout(()=>switchForm('login'), 3000);">
          <div class="input-group"><i class="fas fa-user"></i><input type="text" placeholder="الاسم الكامل" required></div>
          <div class="input-group"><i class="fas fa-envelope"></i><input type="email" placeholder="البريد الإلكتروني" required></div>
          <div class="input-group"><i class="fas fa-phone"></i><input type="tel" placeholder="رقم الجوال (اختياري)"></div>
          <div class="input-group"><i class="fas fa-lock"></i><input type="password" placeholder="كلمة مرور قوية" required></div>
          <div class="input-group"><i class="fas fa-lock"></i><input type="password" placeholder="تأكيد كلمة المرور" required></div>

          <button type="submit" class="btn">إنشاء حساب</button>
        </form>

        <div class="switch">لديك حساب بالفعل؟ <a onclick="switchForm('login')">تسجيل الدخول</a></div>
      </div>

      <!-- استعادة كلمة المرور -->
      <div class="form" id="forgot">
        <h2>استعادة كلمة المرور</h2>
        <p class="subtitle">متقلقش يا بطل، هنرجعلك حسابك في ثواني</p>
        <div class="alert" id="f-alert"></div>

        <form onsubmit="event.preventDefault(); showAlert('f-alert', 'تم إرسال رابط الاستعادة على بريدك بنجاح', 'success');">
          <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input type="email" placeholder="البريد الإلكتروني المسجل" required>
          </div>
          <button type="submit" class="btn">إرسال رابط الاستعادة</button>
        </form>

        <div class="switch"><a onclick="switchForm('login')">رجوع لتسجيل الدخول</a></div>
      </div>

    </div>
  </div>

  <script>
    function switchForm(target) {
      document.querySelectorAll('.form').forEach(f => f.classList.remove('active'));
      document.getElementById(target).classList.add('active');
      // إخفاء أي تنبيهات قديمة
      setTimeout(() => {
        document.querySelectorAll('.alert').forEach(a => a.classList.remove('show'));
      }, 1000);
    }

    function showAlert(id, msg, type = 'success') {
      const el = document.getElementById(id);
      el.textContent = msg;
      el.className = `alert show ${type}`;
      setTimeout(() => el.classList.remove('show'), 6000);
    }

    // تأثير كتابة تلقائية للعنوان (اختياري)
    document.addEventListener("DOMContentLoaded", () => {
      const h1 = document.querySelector('.logo h1');
      const text = h1.textContent;
      h1.textContent = '';
      let i = 0;
      const type = () => {
        if (i < text.length) {
          h1.textContent += text.charAt(i);
          i++;
          setTimeout(type, 150);
        }
      };
      setTimeout(type, 1000);
    });

    // ضع هنا بيانات مشروعك من Supabase (من Project Settings → API)
    const supabaseUrl = 'https://XXXXXX.supabase.co'  // غيّر ده
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxxx'  // غيّر ده
    const supabase = Supabase.createClient(supabaseUrl, supabaseKey)

    // تسجيل حساب جديد
    async function register(full_name, email, password, phone = '') {
      const { data, error } = await supabase
        .from('users')
        .insert({ full_name, email, password, phone })

      if (error) {
        showAlert('r-alert', 'الإيميل موجود بالفعل أو في مشكلة!', 'error')
      } else {
        showAlert('r-alert', 'تم إنشاء الحساب بنجاح! جاري توجيهك...', 'success')
        setTimeout(() => switchForm('login'), 2000)
      }
    }

    // تسجيل الدخول
    async function login(email, password) {
     const { data, error } = await supabase
      .from('users')
      .select()
      .eq('email', email)
      .eq('password', password)
      .single()

     if (error || !data) {
       showAlert('l-alert', 'الإيميل أو كلمة المرور غلط!', 'error')
    } else {
      showAlert('l-alert', `أهلًا يا ${data.full_name}، جاري توجيهك للصفحة الرئيسية...`, 'success')
      setTimeout(() => location.href = "index.html", 1800);  // ← مظبوط دلوقتي
    }
  }
    // تعديل الفورمات عشان تبعت للداتابيز
    document.querySelector('#register form').onsubmit = async function(e) {
      e.preventDefault()
      const name = this.querySelector('input[placeholder="الاسم الكامل"]').value
      const email = this.querySelector('input[type="email"]').value
      const pass = this.querySelectorAll('input[type="password"]')[0].value
      const pass2 = this.querySelectorAll('input[type="password"]')[1].value
      const phone = this.querySelector('input[type="tel"]')?.value || ''

      if (pass !== pass2) {
        showAlert('r-alert', 'كلمات المرور مش متطابقة!', 'error')
        return
      }

      await register(name, email, pass, phone)
    }

    document.querySelector('#login form').onsubmit = async function(e) {
      e.preventDefault()
      const email = this.querySelector('input[type="email"]').value
      const pass = this.querySelector('input[type="password"]').value
      await login(email, pass)
    }
    
  </script>
</body>
</html>